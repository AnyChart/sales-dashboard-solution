<!doctype html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title> Sales Dashboard </title>
    <script src="src/media/vendors/jquery/jquery-2.1.3.min.js"></script>
    <script src="src/media/vendors/bootstrap/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css"  href="src/media/vendors/font-awesome-4.3.0/css/font-awesome.min.css"/>
    <link rel="stylesheet" type="text/css"  href="src/media/vendors/bootstrap/css/bootstrap.css"/>
    <link rel="stylesheet" type="text/css"  href="src/media/css/styles.css"/>


    <style>
        .anychart-credits{
            display: none;
        }
    </style>

</head>
<body>
<div class="container-fluid">
    <div class="row full-height">
        <div class="chart" id="revenue-chart" data-height="350"></div>
    </div>
</div>
</body>
<script src="src/media/vendors/anychart/anychart-bundle.min.js"></script>
<script src="src/media/js/utils.js"></script>
<script src="src/media/js/charts_view_settings.js"></script>
<script src="src/media/js/data.js"></script>
<script>
    function revenueChart(data, container_id) {
        var $chartContainer = $('#' + container_id);
        $chartContainer.css('height', parseInt($chartContainer.attr('data-height'))).html('');
        var chart = anychart.column();
        chart.palette(palette);
        chart.container(container_id);
        var data_set = anychart.data.set(data);
        var s1 = anychart.scales.linear();
        var s2 = anychart.scales.linear();

        chart.title(null);
        chart.yAxis().orientation('left').title(null);
        chart.xAxis().title(null);
        chart.yAxis().scale(s1);
        chart.yAxis(1).scale(s2).orientation('right');
        chart.yAxis().scale().minimum(0);
        chart.yAxis(1).scale().minimum(0);


        chart.yAxis().labels().fontSize(11).textFormatter(function(){
            return '$' + Math.abs(parseInt(this.value)).formatMoney(0, '.', ',');
        });
        chart.yAxis(1).labels().padding(0,0,0,5).fontSize(11);
        chart.xAxis().labels().padding(5,0,0,0).fontSize(11);

        var series = chart.column(data_set.mapAs({value: [1], x: [0]}));
        series.yScale(s1);
        series.name('Revenue, $');

        var series2 = chart.line(data_set.mapAs({value: [2], x: [0]}));
        series2.yScale(s2);
        series2.name('Units sold');

        chart.legend().enabled(true).tooltip(false).align('center');
        chart.padding(10, 0, 0, 0);
        chart.draw();
    }
    $(function () {
        generatedGeneralData = generateGeneralDataForAll();
        generalData = generatedGeneralData['YTD'];
        revenueChart(generalData['revenue_chart'], 'revenue-chart');
    });

</script>
</html>